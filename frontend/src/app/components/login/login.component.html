<div class="card mb-3" style="width: 23rem;">
  <!-- Card Image -->
  <img class="card-img-top" src="./assets/img/bg/main-bg.jpg" alt="Card image cap" width="auto" height="250px">
  
  <!-- Card Body -->
  <div class="card-body" *ngIf="!showRegisterForm && !formSubmittedSuccessfully && !showRegisterForm" [ngClass]="{'hidden': formSubmittedSuccessfully}">
      <!-- Header -->
      <div class="row text-center">
          <div class="col-sm-8">
              <h5 class="mb-3" style="float:right;">Acceso Usuario</h5>
          </div>
          <div class="col-sm-4">
              <i class="fa-solid fa-user-plus new-user-icon" (click)="newUser()"></i>
          </div>
      </div>
      
      <!-- Form -->
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
          <!-- Email Input -->
          <div class="form-group position-relative">
              <input type="email" class="form-control" formControlName="email" id="exampleInputEmail1" autocomplete="off" 
              aria-describedby="emailHelp" placeholder="Introduce el Email" (input)="hideErrorMessages()"
              [ngClass]="{ 'invalid': shouldShowError('email') }">
              <i class="fa-regular fa-envelope position-absolute top-50 translate-middle-y" style="left: 10px;"></i>
          </div>
          <span class="invalid-feedback" *ngIf="shouldShowError('email')">{{ getErrorMessage('email') }}</span>
          
          <!-- Password Input -->
          <div class="form-group position-relative">
              <input type="password" class="form-control" formControlName="password" id="exampleInputPassword1"
               placeholder="Introduce el ContraseÃ±a" (input)="hideErrorMessages()"
               [ngClass]="{ 'invalid': shouldShowError('password') }" >
              <i class="fa-solid fa-lock position-absolute top-50 translate-middle-y" style="left: 10px;"></i>
          </div>
          <span class="invalid-feedback" *ngIf="shouldShowError('password')">{{ getErrorMessage('password') }}</span>

          <!-- Error Message -->
          <div *ngIf="showErrorMessages" class="error-message fade-in-out" [ngClass]="{'visible': showErrorMessages}">{{ error }}</div>

          <!-- Submit Button -->
          <div class="center-btn">
              <button type="submit" class="btn btn-primary btn-acceder">Accede</button>
          </div>
      </form>
  </div>

  <!-- Success Message -->
  <div *ngIf="formSubmittedSuccessfully && showSuccessMessage" class="success-message fade-in-out" [ngClass]="{'visible': showSuccessMessage}">
      <div class="card text-center">
          <div class="card-body">{{ getSuccessMessage() }}</div>
          <div class="card-footer text-muted">
              <button class="btn btn-primary btn-acceder" (click)="loggout()"><i class="fa-solid fa-right-from-bracket"></i></button>
          </div> 
      </div>
  </div>

  <!-- Register Component -->
  <div *ngIf="showRegisterForm">
      <app-register></app-register>
  </div>
</div>
